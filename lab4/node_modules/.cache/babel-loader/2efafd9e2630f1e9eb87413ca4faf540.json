{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/REACT/lab4/src/components/EditBook.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditBook extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = (event, id) => {\n      const value = event.target.value;\n      this.setState(() => ({\n        [`${id}`]: value\n      }));\n    };\n\n    this.saveBook = () => {\n      const id = this.props.match.params.id;\n      const book = {\n        name: this.state.name,\n        price: this.state.price,\n        isInStock: this.state.isInStock === 'yes' ? true : false,\n        edition: this.state.edition\n      };\n      axios.put(`http://localhost:3001/book/${id}`, book).then(res => {\n        this.props.history.push('/');\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      name: '',\n      price: '',\n      isInStock: '',\n      edition: '',\n      printDate: ''\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n\n    if (!id) {\n      return;\n    }\n\n    axios.get(`http://localhost:3001/book/${id}`).then(res => {\n      const book = res.data.book[0];\n      this.setState(() => ({\n        name: book.name,\n        price: book.price,\n        isInStock: book.isInStock ? 'yes' : 'no',\n        edition: book.edition\n      }));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.name,\n            onChange: event => this.handleInputChange(event, 'name')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.price,\n            onChange: event => this.handleInputChange(event, 'price')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Edition:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.edition,\n            onChange: event => this.handleInputChange(event, 'edition')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Is In Stock:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: this.state.isInStock,\n            onChange: event => this.handleInputChange(event, 'isInStock'),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"yes\",\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"no\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.saveBook(),\n        children: \"Save Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default EditBook;","map":{"version":3,"sources":["/home/anshul/Documents/REACT/lab4/src/components/EditBook.js"],"names":["React","axios","Link","EditBook","Component","constructor","props","handleInputChange","event","id","value","target","setState","saveBook","match","params","book","name","state","price","isInStock","edition","put","then","res","history","push","catch","err","console","log","printDate","componentDidMount","get","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nclass EditBook extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      price: '',\n      isInStock: '',\n      edition: '',\n      printDate: '',\n    };\n  }\n  componentDidMount() {\n    const id = this.props.match.params.id;\n\n    if (!id) {\n      return;\n    }\n\n    axios.get(`http://localhost:3001/book/${id}`).then(res => {\n      const book = res.data.book[0];\n      this.setState(() => ({\n        name: book.name,\n        price: book.price,\n        isInStock: book.isInStock ? 'yes' : 'no',\n        edition: book.edition,\n      }));\n    }).catch(err => {\n      console.log(err);\n    })\n  }\n\n  handleInputChange = (event, id) => {\n    const value = event.target.value;\n\n    this.setState(() => ({\n      [`${id}`]: value,\n    }));\n  }\n\n  saveBook = () => {\n    const id = this.props.match.params.id;\n\n    const book = {\n      name: this.state.name,\n      price: this.state.price,\n      isInStock: this.state.isInStock === 'yes' ? true : false,\n      edition: this.state.edition,\n    }\n\n    axios.put(`http://localhost:3001/book/${id}`, book).then(res => {\n      this.props.history.push('/');\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <div className='form'>\n          <div>\n            <label>Name:</label>\n            <input type=\"text\" value={this.state.name} onChange={(event) => this.handleInputChange(event, 'name')} />\n          </div>\n          <div>\n            <label>Price:</label>\n            <input type=\"text\" value={this.state.price} onChange={(event) => this.handleInputChange(event, 'price')} />\n          </div>\n          <div>\n            <label>Edition:</label>\n            <input type=\"text\" value={this.state.edition} onChange={(event) => this.handleInputChange(event, 'edition')} />\n          </div>\n          <div>\n            <label>Is In Stock:</label>\n            <select value={this.state.isInStock} onChange={(event) => this.handleInputChange(event, 'isInStock')}>\n              <option value=\"yes\">Yes</option>\n              <option value=\"no\">No</option>\n            </select>\n          </div>\n        </div>\n\n        <button onClick={() => this.saveBook()}>Save Book</button>\n\n        <hr />\n\n        <Link to='/'>Back</Link>\n      </div>\n    );\n  }\n}\n\nexport default EditBook;\n"]},"metadata":{},"sourceType":"module"}